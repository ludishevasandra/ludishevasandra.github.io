(()=>{const e=document.querySelector(".wp-block-create-block-custom-video-block video"),t=document.querySelector(".wp-block-create-block-custom-video-block .volume-button__bar"),c=document.querySelector(".wp-block-create-block-custom-video-block .clickable-area"),o=document.querySelector(".wp-block-create-block-custom-video-block .video-timeline"),l=document.querySelector(".wp-block-create-block-custom-video-block .bottom-controls"),d=document.querySelector(".wp-block-create-block-custom-video-block .volume-button__icon"),n=document.querySelector(".wp-block-create-block-custom-video-block .play-pause-button"),i=document.querySelector(".wp-block-create-block-custom-video-block .full-screen__button");function r(){if(!CSS.supports("selector(::-moz-range-progress)"))return"webkit"}function u(){e.paused?e.play():e.pause();for(let e of n.children)e.classList.toggle("hidden")}function s(){let e=t.value/t.max*100;t.style.background=`linear-gradient(to right, #fff ${e}%, rgba(255, 255, 255, .5) ${e}%)`}function a(){let e=document.querySelector(".volume-button__icon").children;for(let t of e)t.classList.contains("hidden")||t.classList.add("hidden");0==t.value&&e[0].classList.remove("hidden"),0<t.value&&t.value<=.33&&e[1].classList.remove("hidden"),.33<t.value&&t.value<=.66&&e[2].classList.remove("hidden"),.66<t.value&&t.value<=1&&e[3].classList.remove("hidden")}function v(){e.volume=t.value,a(),t.setAttribute("data-value",t.value)}function m(){0==e.volume&&(t.value=t.getAttribute("data-value")),0!==e.volume&&(t.value=0),e.volume=t.value,"webkit"==r()&&s(),a()}function b(){document.fullscreenElement?(document.exitFullscreen(),i.children[0].classList.remove("hidden"),i.children[1].classList.add("hidden")):(document.querySelector(".wp-block-create-block-custom-video-block").requestFullscreen(),i.children[0].classList.add("hidden"),i.children[1].classList.remove("hidden"))}"webkit"==r()&&(s(),t.addEventListener("input",s)),c.addEventListener("click",(function(){c.classList.add("hidden"),o.classList.remove("hidden"),l.classList.remove("hidden"),e.volume=t.value,e.play(),n.focus()})),t.addEventListener("input",v),d.addEventListener("click",m),n.addEventListener("click",u),e.addEventListener("timeupdate",(function(){let t=document.querySelector(".video-timeline__progress"),c=e.currentTime/e.duration*100;t.style.width=c+"%"})),o.addEventListener("click",(function(t){e.currentTime=t.offsetX/o.clientWidth*e.duration})),i.addEventListener("click",b),e.addEventListener("ended",(function(){c.classList.remove("hidden"),c.children[0].classList.add("hidden"),c.children[1].classList.remove("hidden"),o.classList.add("hidden"),l.classList.add("hidden"),c.focus()})),document.querySelector(".wp-block-create-block-custom-video-block").addEventListener("keydown",(function(c){"Space"==c.code&&(c.preventDefault(),u()),"KeyM"==c.code&&m(),"KeyF"==c.code&&b(),"ArrowLeft"==c.code&&(e.currentTime-=10),"ArrowRight"==c.code&&(e.currentTime+=10),"ArrowUp"==c.code&&(c.preventDefault(),t.value=+t.value+.1,v()),"ArrowDown"==c.code&&(c.preventDefault(),t.value=+t.value-.1,v())}))})();