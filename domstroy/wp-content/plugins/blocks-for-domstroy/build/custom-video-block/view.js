(()=>{if(document.querySelector(".wp-block-create-block-custom-video-block")){function e(e){e.querySelector(".controls").classList.add("started"),e.querySelector("video").play(),e.querySelector(".play-pause-button").focus()}function t(e,t){e.querySelector("video").volume=t.value,o(e.querySelector(".volume-button__icon").children,t.value),t.setAttribute("data-value",t.value)}function o(e,t){for(let t of e)t.classList.contains("hidden")||t.classList.add("hidden");0==t&&e[0].classList.remove("hidden"),0<t&&t<=.33&&e[1].classList.remove("hidden"),.33<t&&t<=.66&&e[2].classList.remove("hidden"),.66<t&&t<=1&&e[3].classList.remove("hidden")}function r(e){const t=e.querySelector("video"),r=e.querySelector(".volume-button__bar");0==t.volume?r.value=r.getAttribute("data-value"):r.value=0,t.volume=r.value,l&&c(r),o(e.querySelector(".volume-button__icon").children,r.value)}function c(e){const t=e.value/e.max*100;e.style.background="linear-gradient{to right, #FFF "+t+"%, rgba(255, 255, 255, .5) "+t+"%)"}function l(){return!CSS.supports("selector(::-moz-range-progress)")}function n(e){const t=e.querySelector("video"),o=e.querySelector(".play-pause-button").children;t.paused?(t.play(),o[0].classList.add("hidden"),o[1].classList.remove("hidden")):(t.pause(),o[0].classList.remove("hidden"),o[1].classList.add("hidden"))}function i(e){const t=e.querySelector(".full-screen__button").children;document.fullscreenElement?(document.exitFullscreen(),t[0].classList.remove("hidden"),t[1].classList.add("hidden")):(e.requestFullscreen(),t[0].classList.add("hidden"),t[1].classList.remove("hidden"))}document.querySelectorAll(".wp-block-create-block-custom-video-block").forEach((o=>{if(o.querySelector(".clickable-area").addEventListener("click",(()=>e(o))),o.querySelector(".volume-button__bar").addEventListener("input",(e=>t(o,e.target))),o.querySelector(".volume-button__icon").addEventListener("click",(()=>r(o))),o.querySelector(".play-pause-button").addEventListener("click",(()=>n(o))),o.querySelector("video").addEventListener("timeupdate",(()=>function(e){const t=e.querySelector("video"),o=t.currentTime/t.duration*100;e.querySelector(".video-timeline__progress").style.width=o+"%"}(o))),o.querySelector(".video-timeline").addEventListener("click",(e=>function(e,t){const o=e.querySelector("video"),r=e.querySelector(".video-timeline");o.currentTime=t.offsetX/r.clientWidth*o.duration}(o,e))),o.querySelector(".full-screen__button").addEventListener("click",(()=>i(o))),o.querySelector("video").addEventListener("ended",(()=>function(e){const t=e.querySelector(".clickable-area").children;t[0].classList.add("hidden"),t[1].classList.remove("hidden"),e.querySelector(".controls").classList.remove("started"),e.querySelector(".clickable-area").focus()}(o))),o.addEventListener("keydown",(c=>function(o,c){const l=o.querySelector("video"),u=o.querySelector(".controls"),s=o.querySelector(".volume-button__bar");"Space"==c.code&&(c.preventDefault(),u.classList.contains("started")?n(o):e(o)),u.classList.contains("started")&&("KeyM"==c.code&&r(o),"KeyF"==c.code&&i(o),"ArrowLeft"==c.code&&(l.currentTime-=10),"ArrowRight"==c.code&&(l.currentTime+=10),"ArrowUp"==c.code&&(c.preventDefault(),s.value=+s.value+.1,t(o,s)),"ArrowDown"==c.code&&(c.preventDefault(),s.value=+s.value-.1,t(o,s)))}(o,c))),function(e){const t=e.querySelector("video");t.volume=e.querySelector(".volume-button__bar").value,screen.width<=720&&""!==t.getAttribute("data-mobile")?t.setAttribute("poster",t.getAttribute("data-mobile")):t.setAttribute("poster",t.getAttribute("data-desktop"))}(o),l){const e=o.querySelector(".volume-button__bar");c(e),e.addEventListener("input",(()=>c(e)))}}))}})();