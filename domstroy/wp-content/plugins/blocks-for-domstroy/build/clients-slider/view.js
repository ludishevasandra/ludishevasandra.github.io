(()=>{if(document.querySelector(".wp-block-create-block-clients-slider")){const c=document.querySelectorAll(".wp-block-create-block-clients-slider .clients-slider__view-area li"),r=document.querySelectorAll(".wp-block-create-block-clients-slider .clients-slider__view-area li").length;let s=0;function e(e,t){let l=1+(e=+e),i=e-1;l===r&&(l=0),i<0&&(i=r-1),c.forEach(e=>{e.className="wp-block-create-block-clients-slider-single"}),c[l].classList.add("next"),"next"==t&&c[l].classList.add("in-transition"),c[l].setAttribute("aria-hidden","true"),c[i].classList.add("prev"),"prev"==t&&c[i].classList.add("in-transition"),c[i].setAttribute("aria-hidden","true"),c[e].classList.add("current"),c[e].setAttribute("aria-hidden","false"),document.querySelector(".wp-block-create-block-clients-slider .clients-slider__liveregion").textContent="Комментарий "+(e+1)+" из "+r,s=e}function t(){let t=s-1;t<0&&(t=r-1),e(t,"next")}function l(){let t=s+1;t==r&&(t=0),e(t,"prev")}function i(){const e=[...document.querySelectorAll(".wp-block-create-block-clients-slider .clients-slider__view-area li article")].map(e=>e.offsetHeight),t=Math.max(...e);document.querySelector(".wp-block-create-block-clients-slider .clients-slider__view-area").style.height=t+"px"}c.forEach((e,t)=>{0==t?(e.classList.add("current"),e.setAttribute("aria-hidden","false")):1==t?e.classList.add("next"):t==r-1?e.classList.add("prev"):e.setAttribute("aria-hidden","true")}),new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&i()})}).observe(document.querySelector(".wp-block-create-block-clients-slider")),document.querySelector(".wp-block-create-block-clients-slider .clients-slider__controls li .clients-slider__btn-prev").addEventListener("click",t),document.querySelector(".wp-block-create-block-clients-slider .clients-slider__controls li .clients-slider__btn-next").addEventListener("click",l),document.querySelector(".wp-block-create-block-clients-slider .clients-slider__view-area").addEventListener("transitionend",e=>e.target.classList.remove("in-transition")),document.querySelector(".wp-block-create-block-clients-slider").addEventListener("keydown",function(e){"ArrowRight"==e.key&&l(),"ArrowLeft"==e.key&&t()}),window.addEventListener("resize",i)}})();